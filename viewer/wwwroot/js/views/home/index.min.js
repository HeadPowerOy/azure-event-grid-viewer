function signalRError(){vm.connectionState=3;alert("Unable to connect to live link. Please refresh the page.")}const vm=(()=>{const n={connectionState:1,receiveEvents:!0,eventTypeFilter:"",subjectFilter:"",events:[]},t={filteredEvents(){return this.events.filter(n=>(this.eventTypeFilter===""||n.eventType.toLowerCase().includes(this.eventTypeFilter.toLowerCase()))&&(this.subjectFilter===""||n.subject.toLowerCase().includes(this.subjectFilter.toLowerCase())))},areAllExpanded(){const n=this.filteredEvents;return n.length>0&&n.every(n=>n.expanded)}},i={clearEvents(){this.events.splice(0,this.events.length)},expandCollapseAll(){const n=!this.areAllExpanded;this.filteredEvents.forEach(t=>t.expanded=n)}};return Vue.createApp({data:()=>n,computed:t,methods:i}).mount("#app")})();const connection=(new signalR.HubConnectionBuilder).withUrl("/hubs/gridevents").withAutomaticReconnect().configureLogging(signalR.LogLevel.Information).build();connection.onreconnecting(()=>vm.connectionState=2);connection.onreconnected(()=>vm.connectionState=1);connection.onclose(()=>signalRError());connection.on("gridupdate",(n,t,i,r,u)=>{vm.receiveEvents&&vm.events.unshift({eventId:n||"",eventType:t||"",subject:i||"",eventTime:r,eventData:u||"",expanded:!1})});connection.start().catch(()=>signalRError());